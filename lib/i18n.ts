export type Language = 'en' | 'he';

export const translations = {
  en: {
    appName: 'Shopping List App',
    appDescription: 'Manage your grocery lists and items',
    selectUser: 'Select User',
    selectUserDescription: 'Choose which user\'s lists to view and manage',
    loadingUsers: 'Loading users...',
    noUsers: 'No users available. Please add users to your database.',
    groceryLists: 'Grocery Lists',
    groceryListsDescription: 'Create and manage your shopping lists',
    newListTitle: 'New list title',
    create: 'Create',
    creating: 'Creating...',
    loadingLists: 'Loading lists...',
    noLists: 'No lists yet',
    noListsDescription: 'Create your first grocery list above',
    items: 'Items',
    itemsDescription: 'Manage items in this list',
    selectListFirst: 'Select a list to view items',
    itemName: 'Item name',
    add: 'Add',
    adding: 'Adding...',
    loadingItems: 'Loading items...',
    noItems: 'No items yet',
    noItemsDescription: 'Add your first item above',
    noListSelected: 'No list selected',
    noListSelectedDescription: 'Select a list to view items',
    listDeleted: 'List deleted successfully',
    listDeletedDescription: (title: string) => `"${title}" has been deleted.`,
    failedToDeleteList: 'Failed to delete list',
    deleteList: 'Delete',
    listCreated: 'List created successfully',
    listCreatedDescription: (title: string) => `"${title}" has been created.`,
    itemAdded: 'Item added successfully',
    itemAddedDescription: (name: string) => `"${name}" has been added to the list.`,
    itemDeleted: 'Item deleted successfully',
    itemDeletedDescription: (name: string) => `"${name}" has been removed.`,
    failedToLoadUsers: 'Failed to load users',
    failedToLoadLists: 'Failed to load lists',
    failedToLoadItems: 'Failed to load items',
    failedToCreateList: 'Failed to create list',
    failedToAddItem: 'Failed to add item',
    failedToDeleteItem: 'Failed to delete item',
    settings: 'Settings',
    language: 'Language',
    previousLists: 'Previous Lists',
    item: 'item',
    addNewItem: 'Add New Item',
    required: 'required',
    quantity: 'Quantity',
    yourList: 'Your List',
  },
  he: {
    appName: 'אפליקציית רשימת קניות',
    appDescription: 'נהל את רשימות הקניות והפריטים שלך',
    selectUser: 'בחר משתמש',
    selectUserDescription: 'בחר את רשימות המשתמש לצפייה וניהול',
    loadingUsers: 'טוען משתמשים...',
    noUsers: 'אין משתמשים זמינים. אנא הוסף משתמשים למסד הנתונים שלך.',
    groceryLists: 'רשימות קניות',
    groceryListsDescription: 'צור ונהל את רשימות הקניות שלך',
    newListTitle: 'כותרת רשימה חדשה',
    create: 'צור',
    creating: 'יוצר...',
    loadingLists: 'טוען רשימות...',
    noLists: 'אין רשימות עדיין',
    noListsDescription: 'צור את רשימת הקניות הראשונה שלך למעלה',
    itemsDescription: 'נהל פריטים ברשימה זו',
    selectListFirst: 'בחר רשימה כדי לצפות בפריטים',
    itemName: 'שם פריט',
    add: 'הוסף',
    adding: 'מוסיף...',
    loadingItems: 'טוען פריטים...',
    noItems: 'אין פריטים עדיין',
    noItemsDescription: 'הוסף את הפריט הראשון שלך למעלה',
    noListSelected: 'לא נבחרה רשימה',
    noListSelectedDescription: 'בחר רשימה כדי לצפות בפריטים',
    listDeleted: 'הרשימה נמחקה בהצלחה',
    listDeletedDescription: (title: string) => `"${title}" נמחקה.`,
    failedToDeleteList: 'נכשל במחיקת רשימה',
    deleteList: 'מחק',
    listCreated: 'הרשימה נוצרה בהצלחה',
    listCreatedDescription: (title: string) => `"${title}" נוצרה.`,
    itemAdded: 'הפריט נוסף בהצלחה',
    itemAddedDescription: (name: string) => `"${name}" נוסף לרשימה.`,
    itemDeleted: 'הפריט נמחק בהצלחה',
    itemDeletedDescription: (name: string) => `"${name}" הוסר.`,
    failedToLoadUsers: 'נכשל בטעינת משתמשים',
    failedToLoadLists: 'נכשל בטעינת רשימות',
    failedToLoadItems: 'נכשל בטעינת פריטים',
    failedToCreateList: 'נכשל ביצירת רשימה',
    failedToAddItem: 'נכשל בהוספת פריט',
    failedToDeleteItem: 'נכשל במחיקת פריט',
    settings: 'הגדרות',
    language: 'שפה',
    previousLists: 'רשימות קודמות',
    item: 'פריט',
    items: 'פריטים',
    addNewItem: 'הוסף פריט חדש',
    required: 'חובה',
    quantity: 'כמות',
    yourList: 'הרשימה שלך',
  },
};

export type TranslationKey = keyof typeof translations.en;

const LANGUAGE_KEY = 'app_language';

export function getStoredLanguage(): Language {
  if (typeof window === 'undefined') return 'en';
  const stored = localStorage.getItem(LANGUAGE_KEY);
  return (stored === 'en' || stored === 'he') ? stored : 'en';
}

export function setStoredLanguage(lang: Language): void {
  if (typeof window === 'undefined') return;
  localStorage.setItem(LANGUAGE_KEY, lang);
}
